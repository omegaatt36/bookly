{{define "title"}}Create Budget{{end}}

{{define "content"}}
<div class="container">
    <h2>Create New Budget</h2>

    {{template "partials/flash_messages" .}}

    <form action="/budgets" method="POST">
        <!-- CSRF Token -->
        <!-- <input type="hidden" name="csrf_token" value="{{.CSRFToken}}"> -->
        
        <div class="mb-3">
            <label for="name" class="form-label">Budget Name</label>
            <input type="text" class="form-control" id="name" name="name" required>
        </div>

        <div class="mb-3">
            <label for="period" class="form-label">Period</label>
            <select class="form-select" id="period" name="period" required>
                <option value="">Select Period</option>
                {{range .Periods}}
                    <option value="{{.Value}}">{{.Label}}</option>
                {{end}}
            </select>
        </div>
        
        <div class="mb-3">
            <label for="start_date" class="form-label">Start Date (Optional, defaults to current month/year start)</label>
            <input type="date" class="form-control" id="start_date" name="start_date">
        </div>

        <div class="mb-3">
            <label for="amount" class="form-label">Amount</label>
            <input type="number" step="0.01" class="form-control" id="amount" name="amount" required>
        </div>

        <div class="mb-3">
            <label for="category_id" class="form-label">Category</label>
            <select class="form-select" id="category_id" name="category_id" required>
                <option value="">Select Category</option>
                {{range .Categories}}
                    <option value="{{.ID}}">{{.Name}}</option>
                {{end}}
            </select>
        </div>
        
        <button type="submit" class="btn btn-primary">Create Budget</button>
        <a href="/budgets" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{{end}}
